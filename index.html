<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCSE English Language Baseline Assessment</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Montserrat font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        // Apply custom brand colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-deep-blue': '#005F8D',
                        'brand-sky-blue': '#3FA9CE',
                        'brand-warm-red': '#D84A39',
                        'brand-sunny-yellow': '#E5AE29',
                        'brand-bright-orange': '#F08C33',
                        'brand-off-white': '#F9F7F4',
                        'brand-charcoal': '#2E2E2E',
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Base font size */
        body {
            font-family: 'Montserrat', 'sans-serif;
            font-size: 17px; 
            margin: 0;
            padding: 0;
            background-color: #F9F7F4; /* brand-off-white */
            overflow: hidden; /* Hide body scrollbars, navigation is handled */
        }
        
        /* --- Slideshow Styles --- */
        .slide {
            width: 100%;
            height: 100vh;
            display: none; /* Hidden by default */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem 1rem;
            overflow-y: auto; /* Allow individual slides to scroll if content is tall */
            background-color: #F9F7F4; /* brand-off-white */
        }
        .slide.active-slide {
            display: flex; /* Show the active slide */
        }
        .slide-content {
            width: 100%;
            max-width: 56rem; /* max-w-5xl */
            margin: auto 0;
            background-color: white;
            padding: 2rem 3rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            max-height: calc(100vh - 120px); /* Full height minus nav/progress bar */
            overflow-y: auto;
        }

        /* --- Navigation Bar --- */
        .navigation-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70px;
            background-color: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            z-index: 50;
        }
        .nav-button {
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            border-radius: 0.25rem;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        .nav-button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        /* --- Progress Bar --- */
        .progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 30px; /* NEW: Increased height */
            background-color: #e5e7eb;
            z-index: 50;
            position: relative; /* NEW: For positioning context */
            display: flex; /* NEW: To align text */
            align-items: center; /* NEW: To align text */
            /* justify-content: center; */ /* REMOVED */
        }
        #progress-bar {
            height: 100%;
            width: 0%;
            background-color: #005F8D; /* brand-deep-blue */
            transition: width 0.3s ease;
            /* REMOVED flex properties */
            position: absolute; /* NEW: Position behind text */
            top: 0;
            left: 0;
            z-index: 1; /* NEW: Behind text */
        }
        /* NEW: Repositioned percentage text */
        #progressPercentage {
            position: absolute; /* NEW: Was relative */
            z-index: 2; /* Ensure it's on top */
            color: #2E2E2E; /* brand-charcoal */
            font-weight: 700;
            font-size: 0.875rem; /* 14px */
            padding-left: 0.5rem; /* NEW: 8px, was padding-right */
            margin-left: 0; /* NEW: Was auto */
            left: 0px; /* NEW: Will be set by JS */
            transition: left 0.3s ease; /* NEW: Animate movement */
            white-space: nowrap; /* NEW: Prevent text wrapping */
        }
        
        /* --- NEW: Modal Styles --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 60;
            display: none; /* Hidden by default */
        }
        .modal-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            z-index: 70;
            width: 90%;
            max-width: 56rem; /* max-w-5xl */
            max-height: 80vh;
            display: none; /* Hidden by default */
        }
        .modal-content {
            overflow-y: auto;
            max-height: calc(80vh - 80px); /* Full height minus padding/title */
        }
        .modal-open {
            display: block;
        }
        .body-modal-open {
            overflow: hidden; /* Prevent body scroll when modal is open */
        }


        /* --- Branded Input Styles --- */
        .branded-input {
            background-color: #F9F7F4;
            border: none;
            border-bottom: 2px solid #005F8D;
            border-radius: 0;
            box-shadow: none;
            padding: 10px 4px;
            transition: all 0.2s ease-in-out;
        }
        .branded-input:focus {
            outline: none;
            border-bottom-color: #D84A39;
            box-shadow: 0 1px 0 0 #D84A39;
        }
        
        select.branded-select {
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%23005F8D%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
            background-color: #F9F7F4;
            border: none;
            border-bottom: 2px solid #005F8D;
            border-radius: 0;
            box-shadow: none;
            padding: 10px 4px;
            padding-right: 2.5rem;
            transition: all 0.2s ease-in-out;
        }
        select.branded-select:focus {
            outline: none;
            border-bottom-color: #D84A39;
            box-shadow: 0 1px 0 0 #D84A39;
        }
        .input-details { border-bottom-color: #3FA9CE; }
        .input-details:focus { border-bottom-color: #D84A39; box-shadow: 0 1px 0 0 #D84A39; }
        .input-section-a { border-bottom-color: #D84A39; }
        .input-section-a:focus { border-bottom-color: #D84A39; box-shadow: 0 1px 0 0 #D84A39; }
        .input-section-b { border-bottom-color: #E5AE29; }
        .input-section-b:focus { border-bottom-color: #D84A39; box-shadow: 0 1px 0 0 #D84A39; }
        .input-section-c { border-bottom-color: #F08C33; }
        .input-section-c:focus { border-bottom-color: #D84A39; box-shadow: 0 1px 0 0 #D84A39; }
        
        .branded-checkbox, .branded-radio {
            appearance: none; -webkit-appearance: none; height: 20px; width: 20px; min-width: 20px;
            background-color: #F9F7F4; border: 2px solid #005F8D; border-radius: 0;
            display: inline-block; position: relative; cursor: pointer; margin-right: 10px; flex-shrink: 0;
        }
        .branded-radio { border-radius: 50%; }
        .branded-checkbox:checked, .branded-radio:checked { background-color: #005F8D; border-color: #005F8D; }
        .branded-checkbox:checked::after {
            content: ''; position: absolute; left: 6px; top: 2px; width: 5px; height: 10px;
            border: solid white; border-width: 0 3px 3px 0; transform: rotate(45deg);
        }
        .branded-radio:checked::after {
            content: ''; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
            width: 8px; height: 8px; border-radius: 50%; background: white;
        }

        .clickable-word-container {
            background-color: #F9F7F4; border: 2px solid #005F8D; padding: 15px; line-height: 2.5; cursor: pointer;
        }
        .clickable-word {
            display: inline-block; padding: 2px 0; transition: all 0.1s ease-in-out;
            border-bottom: 2px solid transparent; margin: 0 1px;
        }
        .clickable-word.selected {
            background-color: #e5ae2940; border-bottom: 2px solid #D84A39; border-radius: 0;
        }
        .clickable-word:hover { background-color: #3fa9ce20; }

        .drag-list {
            border: 2px solid #005F8D; background-color: #F9F7F4; padding: 10px; user-select: none;
        }
        .drag-item {
            background-color: #fff; padding: 12px; margin-bottom: 8px; border: 2px solid #3FA9CE;
            border-left-width: 6px; cursor: grab; transition: all 0.2s ease;
        }
        .drag-item:last-child { margin-bottom: 0; }
        .drag-item.dragging { opacity: 0.5; background-color: #f0f0f0; border-color: #D84A39; }
        .drag-over { border-top: 2px dashed #D84A39; }

        .word-counter-pill {
            display: inline-block; background-color: #F9F7F4; color: #2E2E2E; padding: 4px 10px;
            border-width: 2px; border-style: solid; border-color: #3FA9CE; font-size: 0.875rem;
            font-weight: 600; border-radius: 0; min-width: 120px; text-align: center;
        }
        .wc-pill-a { border-color: #D84A39; }
        .wc-pill-b { border-color: #E5AE29; }
        .wc-pill-c { border-color: #F08C33; }
        .wc-pill-d { border-color: #005F8D; }
        
        /* Print Styles: Make all slides visible for printing */
        @media print {
            body {
                overflow: visible !important;
                background-color: #fff;
            }
            .slide {
                display: block !important;
                height: auto !important;
                page-break-after: always;
                overflow: visible !important;
                padding: 0;
            }
            .slide-content {
                max-height: none;
                overflow: visible;
                box-shadow: none;
                border-bottom: 1px solid #ccc;
                padding: 1.5rem 0;
            }
            .no-print {
                display: none !important;
            }
            .modal-overlay, .modal-box {
                display: none !important;
            }
            /* NEW: Hide the discreet logos when printing */
            .discreet-logo-header {
                display: none !important;
            }
        }

    </style>
</head>
<body class="bg-brand-off-white text-brand-charcoal font-sans antialiased m-0 p-0">

<!-- Progress Bar -->
<div class="progress-bar-container no-print">
    <div id="progress-bar">
        <!-- Percentage is no longer in here -->
    </div>
    <!-- NEW: Percentage is now a sibling, pushed to the right -->
    <span id="progressPercentage" class="progress-text">0%</span>
</div>

<form id="assessmentForm">

    <!-- Slide 1: Header -->
    <div class="slide active-slide" data-slide="0">
        <!-- Modified slide-content to just hold the image -->
        <div class="slide-content" style="padding: 0; background-color: transparent; box-shadow: none; display: flex; align-items: center; justify-content: center;">
            <img src="https://raw.githubusercontent.com/TheMentorSphere/GCSE-English-Baseline/refs/heads/main/Screenshot%202025-10-27%20230824.png" alt="GCSE English Baseline Title" style="max-width: 100%; max-height: 100vh; object-fit: contain;">
        </div>
    </div>

    <!-- Slide 2: Student Details -->
    <div class="slide" data-slide="1">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section>
                <h3 class="text-2xl font-bold text-brand-deep-blue border-b-2 border-brand-sky-blue pb-2 mb-6">Student Details</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div>
                        <label for="student_name" class="block text-lg font-semibold mb-2">Full Name</label>
                        <input type="text" id="student_name" name="student_name" class="w-full branded-input input-details savable" placeholder="Enter your name...">
                    </div>
                    <div>
                        <label for="student_date" class="block text-lg font-semibold mb-2">Date</label>
                        <input type="date" id="student_date" name="student_date" class="w-full branded-input input-details savable" style="padding-top: 8px; padding-bottom: 8px;">
                    </div>
                    <div>
                        <label for="student_confidence" class="block text-lg font-semibold mb-2">Confidence (0-10)</label>
                        <p class="text-sm text-gray-500 -mt-2 mb-2">(0 = Not confident, 10 = Totally confident)</p>
                        <select id="student_confidence" name="student_confidence" class="w-full branded-select input-details savable">
                            <option value="">Select a rating...</option>
                            <option value="0">0 (Not confident at all)</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Feeling okay)</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10 (Totally confident!)</option>
                        </select>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 3: Instructions -->
    <div class="slide" data-slide="2">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="space-y-6">
                <!-- NEW: Title from image -->
                <h3 class="text-2xl font-bold text-brand-deep-blue border-b-2 border-brand-sky-blue pb-2">Welcome to your Baseline Assessment</h3>
                
                <!-- NEW: Text from image -->
                <p class="text-lg">This assessment is designed to give me a clear idea of your current strengths and areas for development in GCSE English Language. This isn't a test—there's no pass or fail!</p>
                
                <!-- UPDATED: Details from image -->
                <ul class="list-none space-y-2 text-lg">
                    <li><strong>Duration:</strong> Approximately 2 - 2.5 hours (but take as much or as little time as you need).</li>
                    <li>
                        <strong>Sections:</strong> There are four sections covering the key skills of the GCSE:
                        <ul class="list-disc list-inside ml-6 mt-1 text-base">
                            <li><strong>A:</strong> Fiction Reading Skills (Paper 1)</li>
                            <li><strong>B:</strong> Non-Fiction Reading Skills (Paper 2)</li>
                            <li><strong>C:</strong> Writing Skills (Paper 1 & 2)</li>
                            <li><strong>D:</strong> Technical Accuracy (SPaG)</li>
                        </ul>
                    </li>
                </ul>

                <!-- NEW: Two-column layout from image -->
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- NEW: How to Approach -->
                    <div class="bg-white p-4 rounded-lg border-2 border-brand-warm-red h-full">
                        <h4 class="text-lg font-bold text-brand-deep-blue mb-2">How to Approach This Assessment</h4>
                        <p class="mb-2">The goal is simply to see what you already know and what we can work on together. Your answers will help me understand:</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Which skills you're already confident with.</li>
                            <li>Which topics might need more focus.</li>
                            <li>How to best structure our sessions to help you succeed.</li>
                        </ul>
                    </div>
                    
                    <!-- NEW: What to Do -->
                    <div class="bg-white p-4 rounded-lg border-2 border-brand-sunny-yellow h-full">
                        <h4 class="text-lg font-bold text-brand-deep-blue mb-2">What to Do</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Read every question carefully.</li>
                            <li>Write your answers in the boxes provided.</li>
                            <li>Don't worry if you get stuck—just leave it blank and move on.</li>
                            <li>Please don't guess. It's more helpful for me to see what you don't know than to guess correctly by chance.</li>
                            <li>Just try your best. That's all I ask!</li>
                        </ul>
                    </div>
                </div>

                <!-- Existing boxes -->
                <div class="bg-white p-4 rounded-lg border-2 border-brand-sky-blue">
                    <h4 class="text-lg font-bold text-brand-deep-blue mb-2">Saving Your Progress</h4>
                    <p class="mb-2">You can click <strong>"Save Progress"</strong> at any time. This saves your answers to your <strong>current web browser</strong>, so you can close this tab and return later. This will <strong>not</strong> work if you switch computers.</p>
                </div>

                <div class="bg-white p-4 rounded-lg border-2 border-brand-sunny-yellow">
                    <h4 class="text-lg font-bold text-brand-deep-blue mb-2">Having Trouble?</h4>
                    <p class="mb-2">If you have any issues, need this in a different format, or would prefer to print it and fill it out by hand, please get in touch.</p>
                    <p><strong>Email:</strong> <span class="text-brand-deep-blue font-semibold">luke@thementorsphere.co.uk</span></p>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 4: Section A Header + Extract -->
    <div class="slide" data-slide="3">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section>
                <h3 class="text-2xl font-bold text-brand-deep-blue border-b-2 border-brand-warm-red pb-2 mb-6">Section A: Fiction Reading Skills (Paper 1)</h3>
                <p class="mb-4 text-lg">Read the following short extract. You will answer questions on it over the next few slides.</p>
                <div class="bg-gray-100 border-l-4 border-brand-warm-red p-6 rounded-lg text-gray-800 mb-6 max-h-[60vh] overflow-y-auto">
                    <p class="mb-4">The rain hammered against the windowpane, a relentless drumbeat against the silence of the room. Eliza clutched the cold porcelain mug, her knuckles white. She hadn't moved in an hour. Outside, the wind howled, rattling the old sash window as if demanding to be let in. She was waiting for the sound of headlights, a crunch on the gravel drive. But there was nothing save the storm.</p>
                    <p>At first, she had paced the length of the kitchen, her shadow stretching and shrinking under the single swaying bulb. She had rearranged the books on the shelf, twice. She had even, in a moment of desperation, started to polish the silver. But the restless energy had faded, replaced by this cold, heavy stillness. The clock on the wall ticked, each sound a small explosion in the quiet. The house felt like it was holding its breath. And she was holding hers with it.</p>
                </div>
            </section>
        </div>
    </div>

    <!-- Slide 5: Question 1 -->
    <div class="slide" data-slide="4">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section A: Question 1</label>
                        <p class="text-lg">List four things we learn about the room and the setting from the first paragraph. Select the four correct statements:</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-1-modal">View Extract</button>
                </div>
                <div class="space-y-3">
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A1_Checkbox" value="rain" class="branded-checkbox savable">
                        <span>It is raining hard outside.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A1_Checkbox" value="sunny" class="branded-checkbox savable">
                        <span>The sun is streaming into the room.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A1_Checkbox" value="cold_mug" class="branded-checkbox savable">
                        <span>Eliza is holding a cold mug.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A1_Checkbox" value="wind" class="branded-checkbox savable">
                        <span>The wind is rattling the window.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A1_Checkbox" value="cars" class="branded-checkbox savable">
                        <span>There are many cars on the drive.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A1_Checkbox" value="silent" class="branded-checkbox savable">
                        <span>The room is silent.</span>
                    </label>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 6: Question 2 -->
    <div class="slide" data-slide="5">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label for="q2" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section A: Question 2</label>
                        <p class="text-lg mb-2">How does the writer use language to describe the storm and the atmosphere in the room?</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-1-modal">View Extract</button>
                </div>
                <p class="text-base text-gray-600 mb-2">You could include the writer's choice of words, phrases, and techniques. (Target: 150-200 words)</p>
                <textarea id="q2" name="A2_Language_Analysis" rows="15" class="w-full branded-input input-section-a savable" placeholder="Type your language analysis here..." data-word-count-id="wc-q2"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q2" class="word-counter-pill wc-pill-a">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>

    <!-- Slide 7: Question 3 -->
    <div class="slide" data-slide="6">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section A: Question 3</label>
                        <p class="text-lg mb-2">How has the writer structured this extract to build tension?</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-1-modal">View Extract</button>
                </div>
                <p class="text-base text-gray-600 mb-2">Select all the structural choices the writer uses to achieve this:</p>
                <div class="space-y-3">
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A3_Structure" value="focus_shift_external_internal" class="branded-checkbox savable">
                        <span>Focusing on the storm *outside* before moving to Eliza *inside*.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A3_Structure" value="flashback_happy" class="branded-checkbox savable">
                        <span>Describing a happy memory Eliza had earlier in the day.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A3_Structure" value="shift_stillness_action" class="branded-checkbox savable">
                        <span>Shifting from Eliza's stillness to a list of her earlier, restless actions.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A3_Structure" value="new_character" class="branded-checkbox savable">
                        <span>Introducing another character who speaks to Eliza.</span>
                    </label>
                    <label class="flex items-center text-lg p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                        <input type="checkbox" name="A3_Structure" value="focus_sound" class="branded-checkbox savable">
                        <span>Ending with a focus on a specific, small sound (the clock ticking).</span>
                    </label>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 8: Question 4 -->
    <div class="slide" data-slide="7">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label for="q4" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section A: Question 4</label>
                        <p class="text-lg mb-2">A student said, "The writer makes Eliza seem completely isolated and alone." To what extent do you agree?</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-1-modal">View Extract</button>
                </div>
                <p class="text-base text-gray-600 mb-2">In your response, you should: (Target: 200-250 words)
                    <ul class="list-disc list-inside ml-4 text-base text-gray-600">
                        <li>Write a summary of your opinion.</li>
                        <li>Use evidence from the text to support your view.</li>
                        <li>Explain how the evidence supports your view.</li>
                    </ul>
                </p>
                <textarea id="q4" name="A4_Evaluation_Isolated" rows="15" class="w-full branded-input input-section-a savable" placeholder="Type your evaluation here..." data-word-count-id="wc-q4"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q4" class="word-counter-pill wc-pill-a">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 9: Section B Header + Extracts -->
    <div class="slide" data-slide="8">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <h3 class="text-2xl font-bold text-brand-deep-blue border-b-2 border-brand-sunny-yellow pb-2 mb-6">Section B: Non-Fiction Reading Skills (Paper 2)</h3>
                <p class="mb-4 text-lg">Read the following two extracts about challenging journeys. You will answer questions on them over the next few slides.</p>
                <div class="flex flex-col gap-6 max-h-[60vh] overflow-y-auto pr-2">
                    <!-- Extract 2 -->
                    <div class="bg-gray-100 border-l-4 border-brand-sunny-yellow p-6 rounded-lg text-gray-800">
                        <h4 class="font-bold text-brand-charcoal mb-2">Extract 2: From an explorer's journal, 1888.</h4>
                        <p>The jungle was a wall of green, impenetrable and hostile. For weeks, we had hacked our way through this suffocating labyrinth, our spirits as damp as the clothes upon our backs. The air, thick with the smell of decay and the incessant drone of insects, offered no relief. It was a place that seemed actively to despise human presence, a verdant prison that tested the very limits of our endurance. Every step was a battle against sucking mud and tangled vines that tore at our skin like claws.</p>
                    </div>
                    <!-- Extract 3 -->
                    <div class="bg-gray-100 border-l-4 border-brand-sunny-yellow p-6 rounded-lg text-gray-800">
                        <h4 class="font-bold text-brand-charcoal mb-2">Extract 3: From a modern travel blog, 2023.</h4>
                        <p>The endless grey ribbon of the motorway stretched ahead, a monument to boredom. I'd been driving for six hours, fuelled by stale coffee and the monotonous thud of the radio. Every service station was a grim copy of the last: same plastic-wrapped sandwiches, same weary faces. This wasn't an adventure; it was an endurance test. The sat-nav, in its infuriatingly calm voice, announced '200 miles to your destination.' I gripped the wheel, my shoulders aching, and just focused on the white lines.</p>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 10: Question 5 -->
    <div class="slide" data-slide="9">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section B: Question 5</label>
                        <p class="text-lg">Read Extract 2 again. Identify four statements below as TRUE or FALSE.</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-2-3-modal">View Extracts</button>
                </div>
                <div class="space-y-4">
                    <div class="flex items-center gap-4 p-3 border border-gray-200 rounded-lg">
                        <label for="q5a" class="flex-1 text-lg">The journey has been going on for months.</label>
                        <select id="q5a" name="B5a_TrueFalse_Months" class="p-2 branded-select input-section-b w-32 savable">
                            <option value="">Select...</option>
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                    </div>
                    <div class="flex items-center gap-4 p-3 border border-gray-200 rounded-lg">
                        <label for="q5b" class="flex-1 text-lg">The writer finds the jungle air refreshing.</label>
                        <select id="q5b" name="B5b_TrueFalse_Air" class="p-2 branded-select input-section-b w-32 savable">
                            <option value="">Select...</option>
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                    </div>
                    <div class="flex items-center gap-4 p-3 border border-gray-200 rounded-lg">
                        <label for="q5c" class="flex-1 text-lg">The writer feels the jungle is like a maze.</label>
                        <select id="q5c" name="B5c_TrueFalse_Maze" class="p-2 branded-select input-section-b w-32 savable">
                            <option value="">Select...</option>
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                    </div>
                    <div class="flex items-center gap-4 p-3 border border-gray-200 rounded-lg">
                        <label for="q5d" class="flex-1 text-lg">Walking through the jungle is physically difficult.</label>
                        <select id="q5d" name="B5d_TrueFalse_Difficult" class="p-2 branded-select input-section-b w-32 savable">
                            <option value="">Select...</option>
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Slide 11: Question 6 -->
    <div class="slide" data-slide="10">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label for="q6" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section B: Question 6</label>
                        <p class="text-lg mb-2">Summarise the differences in the *challenges* faced by the writers in Extract 2 and Extract 3.</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-2-3-modal">View Extracts</button>
                </div>
                <p class="text-base text-gray-600 mb-2">(Target: 80-100 words)</p>
                <textarea id="q6" name="B6_Summary_Challenges" rows="10" class="w-full branded-input input-section-b savable" placeholder="Type your summary here..." data-word-count-id="wc-q6"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q6" class="word-counter-pill wc-pill-b">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>

    <!-- Slide 12: Question 7 -->
    <div class="slide" data-slide="11">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label for="q7" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section B: Question 7</label>
                        <p class="text-lg mb-2">How does the writer of Extract 2 use language to convey his negative experience?</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-2-3-modal">View Extracts</button>
                </div>
                <p class="text-base text-gray-600 mb-2">(Target: 150-200 words)</p>
                <textarea id="q7" name="B7_Language_Analysis_Extract2" rows="15" class="w-full branded-input input-section-b savable" placeholder="Type your language analysis here..." data-word-count-id="wc-q7"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q7" class="word-counter-pill wc-pill-b">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 13: Question 8 -->
    <div class="slide" data-slide="12">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <label for="q8" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section B: Question 8</label>
                        <p class="text-lg mb-2">Compare how the two writers convey their different perspectives and feelings about their challenging journeys.</p>
                    </div>
                    <!-- NEW: View Extract Button -->
                    <button type="button" class="view-extract-btn nav-button bg-brand-sunny-yellow text-white hover:bg-opacity-80 flex-shrink-0" data-modal-id="extract-2-3-modal">View Extracts</button>
                </div>
                <p class="text-base text-gray-600 mb-2">In your answer, you should: (Target: 250-300 words)
                    <ul class="list-disc list-inside ml-4 text-base text-gray-600">
                        <li>Compare their different feelings and perspectives.</li>
                        <li>Compare the methods they use to convey these feelings.</li>
                        <li>Support your ideas with evidence from both texts.</li>
                    </ul>
                </p>
                <textarea id="q8" name="B8_Comparison_Perspectives" rows="18" class="w-full branded-input input-section-b savable" placeholder="Type your comparison here..." data-word-count-id="wc-q8"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q8" class="word-counter-pill wc-pill-b">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 14: Section C Header -->
    <div class="slide" data-slide="13">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <h3 class="text-2xl font-bold text-brand-deep-blue border-b-2 border-brand-bright-orange pb-2 mb-6">Section C: Writing Skills</h3>
                <p class="text-lg">The next two questions assess your creative and transactional writing skills. You are advised to spend about 45 minutes on each.</p>
            </section>
        </div>
    </div>
    
    <!-- Slide 15: Question 9 -->
    <div class="slide" data-slide="14">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <label for="q9" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section C: Question 9 (Writing)</label>
                <p class="text-lg mb-2">EITHER: Describe a place that feels unwelcoming. (Focus on sensory details to create an atmosphere).</p>
                <p class="text-lg mb-4">OR: Write a story with the title "The Escape".</p>
                <p class="text-base text-gray-600 mb-2">Your answer will be marked for content, organisation, and technical accuracy. (Target: 300-400 words)</p>
                <textarea id="q9" name="C9_Creative_Writing" rows="18" class="w-full branded-input input-section-c savable" placeholder="Type your descriptive or narrative writing here..." data-word-count-id="wc-q9"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q9" class="word-counter-pill wc-pill-c">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 16: Question 10 -->
    <div class="slide" data-slide="15">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <label for="q10" class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section C: Question 10 (Writing)</label>
                <p class="text-lg mb-4">"All students should be required to do at least one hour of volunteering in their local community every week."</p>
                <p class="text-lg mb-4">Write an article for your school website arguing for OR against this statement.</p>
                <p class="text-base text-gray-600 mb-2">(Target: 300-400 words)</p>
                <textarea id="q10" name="C10_Argument_Writing" rows="18" class="w-full branded-input input-section-c savable" placeholder="Type your article here..." data-word-count-id="wc-q10"></textarea>
                <div class="text-right mt-2">
                    <span id="wc-q10" class="word-counter-pill wc-pill-c">Word Count: 0</span>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 17: Section D Header -->
    <div class="slide" data-slide="16">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <h3 class="text-2xl font-bold text-brand-deep-blue border-b-2 border-brand-deep-blue pb-2 mb-6">Section D: Technical Accuracy (SPaG)</h3>
                <p class="text-lg">This final section has a few quick questions to check your spelling, punctuation, and grammar skills.</p>
            </section>
        </div>
    </div>

    <!-- Slide 18: Question 11 -->
    <div class="slide" data-slide="17">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <label class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section D: Question 11</label>
                <p class="text-lg mb-3">Identify the word class for each underlined word:</p>
                <p class="text-2xl my-4 text-center p-4 bg-gray-50 rounded-lg">The <strong class="underline">quick</strong> brown fox jumped <strong class="underline">lazily</strong> over the <strong class="underline">sleeping</strong> dog.</p>
                <div class="grid sm:grid-cols-3 gap-6">
                    <div>
                        <p class="font-semibold mb-2 text-lg">quick:</p>
                        <div class="space-y-2">
                            <label class="flex items-center text-lg"><input type="radio" name="D11a_WordClass_Quick" value="noun" class="branded-radio savable"><span>Noun</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11a_WordClass_Quick" value="verb" class="branded-radio savable"><span>Verb</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11a_WordClass_Quick" value="adjective" class="branded-radio savable"><span>Adjective</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11a_WordClass_Quick" value="adverb" class="branded-radio savable"><span>Adverb</span></label>
                        </div>
                    </div>
                    <div>
                        <p class="font-semibold mb-2 text-lg">lazily:</p>
                        <div class="space-y-2">
                            <label class="flex items-center text-lg"><input type="radio" name="D11b_WordClass_Lazily" value="noun" class="branded-radio savable"><span>Noun</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11b_WordClass_Lazily" value="verb" class="branded-radio savable"><span>Verb</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11b_WordClass_Lazily" value="adjective" class="branded-radio savable"><span>Adjective</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11b_WordClass_Lazily" value="adverb" class="branded-radio savable"><span>Adverb</span></label>
                        </div>
                    </div>
                    <div>
                        <p class="font-semibold mb-2 text-lg">sleeping:</p>
                        <div class="space-y-2">
                            <label class="flex items-center text-lg"><input type="radio" name="D11c_WordClass_Sleeping" value="noun" class="branded-radio savable"><span>Noun</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11c_WordClass_Sleeping" value="verb" class="branded-radio savable"><span>Verb</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11c_WordClass_Sleeping" value="adjective" class="branded-radio savable"><span>Adjective</span></label>
                            <label class="flex items-center text-lg"><input type="radio" name="D11c_WordClass_Sleeping" value="adverb" class="branded-radio savable"><span>Adverb</span></label>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 19: Question 12 -->
    <div class="slide" data-slide="18">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <label class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section D: Question 13</label>
                <p class="text-lg mb-4">Identify the following sentences as simple, compound, or complex.</p>
                <div class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
                        <p class="text-lg">The rain fell.</p>
                        <select name="D13a_SentenceType_Simple" class="w-full md:w-auto branded-select savable">
                            <option value="">Select type...</option>
                            <option value="simple">Simple</option>
                            <option value="compound">Compound</option>
                            <option value="complex">Complex</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
                        <p class="text-lg">The rain fell and the wind blew.</p>
                        <select name="D13b_SentenceType_Compound" class="w-full md:w-auto branded-select savable">
                            <option value="">Select type...</option>
                            <option value="simple">Simple</option>
                            <option value="compound">Compound</option>
                            <option value="complex">Complex</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
                        <p class="text-lg">Although the rain fell, the game continued.</p>
                        <select name="D13c_SentenceType_Complex" class="w-full md:w-auto branded-select savable">
                            <option value="">Select type...</option>
                            <option value="simple">Simple</option>
                            <option value="compound">Compound</option>
                            <option value="complex">Complex</option>
                        </select>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- Slide 20: Question 13 -->
    <div class="slide" data-slide="19">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <label class="block text-xl font-semibold mb-2 text-brand-deep-blue">Section D: Question 14</label>
                <p class="text-lg mb-4">Match the word to its correct definition.</p>
                <div class="space-y-4 mt-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center p-4 bg-gray-50 border border-gray-200 rounded-lg">
                        <p class="font-semibold text-lg">Definition: To suggest or hint at something without stating it directly.</p>
                        <select name="D14a_Matching_Imply" class="w-full md:w-auto branded-select savable">
                            <option value="">Select word...</option>
                            <option value="imply">Imply</option>
                            <option value="infer">Infer</option>
                        </select>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center p-4 bg-gray-50 border border-gray-200 rounded-lg">
                        <p class="font-semibold text-lg">Definition: To deduce or conclude something from evidence and reasoning.</p>
                        <select name="D14b_Matching_Infer" class="w-full md:w-auto branded-select savable">
                            <option value="">Select word...</option>
                            <option value="imply">Imply</option>
                            <option value="infer">Infer</option>
                        </select>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Slide 22: Question 15 -->
    <div class="slide" data-slide="21">
        <div class="slide-content">
            <!-- NEW: Discreet Logos Header -->
            <div class="discreet-logo-header flex justify-between items-center -mt-2 mb-4 border-b border-gray-200 pb-3">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/English%20logo%20%5Bno%20background%5D.png" alt="The English Mentor" class="h-16">
                <img src="https://raw.githubusercontent.com/TheMentorSphere/mentorsphere-branding/refs/heads/main/Main%20logo%20%5Bno%20background%5D.png" alt="The MentorSphere" class="h-16">
            </div>
            <section class="w-full">
                <div class="text-center pt-6">
                    <div class="bg-white p-6 rounded-lg border-2 border-brand-deep-blue">
                        <h4 class="text-3xl font-bold text-brand-deep-blue mb-6">Assessment Complete!</h4>
                        
                        <!-- NEW: Congratulatory Message -->
                        <p class="text-lg mb-6">Congratulations on finishing! Thank you for taking the time to complete this—your effort is what counts.</p>
                        
                        <!-- SIMPLIFIED: Instructions -->
                        <p class="text-xl font-semibold mb-4">How to Submit:</p>
                        <ol class="list-decimal list-inside text-left max-w-lg mx-auto space-y-3 text-lg">
                            <li>Click the "Save as PDF & Submit" button below.</li>
                            <li>In the print dialog, set the 'Destination' to <strong>'Save as PDF'</strong> and save the file.</li>
                            <li>Email the saved PDF file as an attachment to: <br><strong class="text-brand-deep-blue text-xl">luke@thementorsphere.co.uk</strong></li>
                        </ol>
                        <button type="button" id="savePdfButton" class="mt-6 bg-brand-warm-red text-white font-bold py-3 px-8 text-xl hover:bg-opacity-80 transition-all">
                            Save as PDF & Submit
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </div>

</form>

<!-- Navigation Bar -->
<div class="navigation-bar no-print">
    <!-- Left Side: Save/Clear & Progress -->
    <div class="flex gap-4 items-center">
        <button id="saveButton" class="nav-button bg-brand-deep-blue text-white hover:bg-opacity-80">Save Progress</button>
        <span id="saveStatus" class="text-brand-deep-blue font-semibold self-center text-sm"></span>
        <!-- REMOVED: Progress Percentage was here -->
    </div>
    
    <!-- Right Side: Prev/Next -->
    <div class="flex gap-4">
        <button id="prevButton" class="nav-button bg-brand-sky-blue text-white hover:bg-opacity-80">Previous</button>
        <button id="nextButton" class="nav-button bg-brand-sky-blue text-white hover:bg-opacity-80">Next</button>
    </div>
</div>

<!-- NEW: Modal Overlay -->
<div id="modal-overlay" class="modal-overlay no-print"></div>

<!-- NEW: Modal for Extract 1 -->
<div id="extract-1-modal" class="modal-box no-print">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-2xl font-bold text-brand-warm-red">Extract 1</h3>
        <button type="button" class="modal-close-btn text-3xl font-bold text-gray-400 hover:text-gray-800" data-modal-id="extract-1-modal">&times;</button>
    </div>
    <div class="modal-content">
        <div class="bg-gray-100 border-l-4 border-brand-warm-red p-6 rounded-lg text-gray-800 space-y-4">
            <p>The rain hammered against the windowpane, a relentless drumbeat against the silence of the room. Eliza clutched the cold porcelain mug, her knuckles white. She hadn't moved in an hour. Outside, the wind howled, rattling the old sash window as if demanding to be let in. She was waiting for the sound of headlights, a crunch on the gravel drive. But there was nothing save the storm.</p>
            <p>At first, she had paced the length of the kitchen, her shadow stretching and shrinking under the single swaying bulb. She had rearranged the books on the shelf, twice. She had even, in a moment of desperation, started to polish the silver. But the restless energy had faded, replaced by this cold, heavy stillness. The clock on the wall ticked, each sound a small explosion in the quiet. The house felt like it was holding its breath. And she was holding hers with it.</p>
        </div>
    </div>
</div>

<!-- NEW: Modal for Extracts 2 & 3 -->
<div id="extract-2-3-modal" class="modal-box no-print">
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-2xl font-bold text-brand-sunny-yellow">Extracts 2 & 3</h3>
        <button type="button" class="modal-close-btn text-3xl font-bold text-gray-400 hover:text-gray-800" data-modal-id="extract-2-3-modal">&times;</button>
    </div>
    <div class="modal-content">
        <div class="flex flex-col gap-6">
            <div class="bg-gray-100 border-l-4 border-brand-sunny-yellow p-6 rounded-lg text-gray-800">
                <h4 class="font-bold text-brand-charcoal mb-2">Extract 2: From an explorer's journal, 1888.</h4>
                <p>The jungle was a wall of green, impenetrable and hostile. For weeks, we had hacked our way through this suffocating labyrinth, our spirits as damp as the clothes upon our backs. The air, thick with the smell of decay and the incessant drone of insects, offered no relief. It was a place that seemed actively to despise human presence, a verdant prison that tested the very limits of our endurance. Every step was a battle against sucking mud and tangled vines that tore at our skin like claws.</p>
            </div>
            <div class="bg-gray-100 border-l-4 border-brand-sunny-yellow p-6 rounded-lg text-gray-800">
                <h4 class="font-bold text-brand-charcoal mb-2">Extract 3: From a modern travel blog, 2023.</h4>
                <p>The endless grey ribbon of the motorway stretched ahead, a monument to boredom. I'd been driving for six hours, fuelled by stale coffee and the monotonous thud of the radio. Every service station was a grim copy of the last: same plastic-wrapped sandwiches, same weary faces. This wasn't an adventure; it was an endurance test. The sat-nav, in its infuriatingly calm voice, announced '200 miles to your destination.' I gripped the wheel, my shoulders aching, and just focused on the white lines.</p>
            </div>
        </div>
    </div>
</div>


    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const saveKey = 'gcseEnglishSlideshowProgress';

            // --- Slideshow ---
            const slides = document.querySelectorAll('.slide');
            const nextButton = document.getElementById('nextButton');
            const prevButton = document.getElementById('prevButton');
            const progressBar = document.getElementById('progress-bar');
            let currentSlide = 0;
            const totalSlides = slides.length;

            function showSlide(index) {
                // Bounds check
                if (index < 0) index = 0;
                if (index >= totalSlides) index = totalSlides - 1;

                slides[currentSlide].classList.remove('active-slide');
                slides[index].classList.add('active-slide');
                currentSlide = index;

                // Update Progress Bar
                const progressPercent = (currentSlide / (totalSlides - 1)) * 100;
                progressBar.style.width = `${progressPercent}%`;

                // NEW: Update Progress Percentage
                const progressPercentage = document.getElementById('progressPercentage');
                if (progressPercentage) {
                    // 1. Update text content FIRST
                    progressPercentage.textContent = `${Math.round(progressPercent)}%`;
                    
                    // 2. Get widths
                    const containerWidth = progressBar.parentElement.offsetWidth;
                    const barWidth = containerWidth * (progressPercent / 100);
                    const textWidth = progressPercentage.offsetWidth;
                    const padding = 8; // 8px
                    
                    // 3. Calculate new position
                    let textLeft = barWidth + padding;
                    
                    // 4. Check for overflow and adjust
                    if (textLeft + textWidth + padding > containerWidth) {
                        textLeft = containerWidth - textWidth - padding;
                    }

                    // 5. Apply new position in pixels
                    progressPercentage.style.left = `${textLeft}px`;
                }

                // Update Button States
                prevButton.disabled = currentSlide === 0;
                nextButton.disabled = currentSlide === totalSlides - 1;
                
                // Show final submit button only on last slide
                const submitButton = document.getElementById('savePdfButton');
                if (submitButton) {
                    submitButton.style.display = (currentSlide === totalSlides - 1) ? 'block' : 'none';
                }
            }

            nextButton.addEventListener('click', () => showSlide(currentSlide + 1));
            prevButton.addEventListener('click', () => showSlide(currentSlide - 1));
            
            // --- NEW: Modal Logic ---
            const viewExtractButtons = document.querySelectorAll('.view-extract-btn');
            const modalCloseButtons = document.querySelectorAll('.modal-close-btn');
            const modalOverlay = document.getElementById('modal-overlay');

            function openModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modalOverlay.classList.add('modal-open');
                    modal.classList.add('modal-open');
                    document.body.classList.add('body-modal-open');
                }
            }

            function closeModal() {
                const openModals = document.querySelectorAll('.modal-box.modal-open');
                openModals.forEach(modal => modal.classList.remove('modal-open'));
                modalOverlay.classList.remove('modal-open');
                document.body.classList.remove('body-modal-open');
            }

            viewExtractButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    openModal(btn.dataset.modalId);
                });
            });

            modalCloseButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    closeModal();
                });
            });

            modalOverlay.addEventListener('click', () => closeModal());
            
            // --- Save/Load (localStorage) ---
            const savableElements = document.querySelectorAll('.savable');
            const saveButton = document.getElementById('saveButton');
            const saveStatus = document.getElementById('saveStatus');

            function showSaveStatus(message) {
                saveStatus.textContent = message;
                setTimeout(() => { saveStatus.textContent = ''; }, 3000);
            }

            function saveProgress() {
                try {
                    const data = {};
                    savableElements.forEach(el => {
                        const name = el.name;
                        if (!name) return;

                        if (el.type === 'checkbox') {
                            if (!data[name]) data[name] = [];
                            if (el.checked) {
                                data[name].push(el.value);
                            }
                        } else if (el.type === 'radio') {
                            if (el.checked) {
                                data[name] = el.value;
                            }
                        } else if (el.id === 'q12_hidden_answer') {
                            data[name] = el.value;
                        } else if (el.id === 'q15_hidden_answer') {
                            data[name] = el.value;
                        } else {
                            data[name] = el.value;
                        }
                    });
                    localStorage.setItem(saveKey, JSON.stringify(data));
                    showSaveStatus('Progress saved!');
                } catch (e) {
                    console.error('Error saving progress:', e);
                    showSaveStatus('Error saving progress.');
                }
            }

            function loadProgress() {
                try {
                    const data = JSON.parse(localStorage.getItem(saveKey));
                    if (!data) return;

                    savableElements.forEach(el => {
                        const name = el.name;
                        if (!name || !data[name]) return;

                        const savedValue = data[name];

                        if (el.type === 'checkbox') {
                            el.checked = savedValue.includes(el.value);
                        } else if (el.type === 'radio') {
                            el.checked = (el.value === savedValue);
                        } else if (el.id === 'q12_hidden_answer') {
                            el.value = savedValue;
                            loadHighlights(savedValue);
                        } else if (el.id === 'q15_hidden_answer') {
                            el.value = savedValue;
                            loadDragAndDrop(savedValue);
                        } else {
                            el.value = savedValue;
                        }
                    });
                    
                    wordCountElements.forEach(el => el.dispatchEvent(new Event('input')));
                    showSaveStatus('Progress loaded.');
                } catch (e) {
                    console.error('Error loading progress:', e);
                }
            }
            
            saveButton.addEventListener('click', saveProgress);

            // --- Save as PDF ---
            const savePdfButton = document.getElementById('savePdfButton');
            savePdfButton.addEventListener('click', () => {
                saveProgress(); // Final save
                try {
                    window.print();
                } catch (e) {
                    console.error("Print failed:", e);
                    alert("Could not open print dialog. This feature may be blocked by your browser's security settings.");
                }
            });

            // --- Word Counter ---
            const wordCountElements = document.querySelectorAll('textarea[data-word-count-id]');
            wordCountElements.forEach(textarea => {
                const countId = textarea.getAttribute('data-word-count-id');
                const counterElement = document.getElementById(countId);
                
                if (counterElement) {
                    const updateWordCount = () => {
                        const text = textarea.value.trim();
                        let wordCount = 0;
                        if (text) wordCount = text.split(/\s+/).filter(Boolean).length;
                        counterElement.textContent = `Word Count: ${wordCount}`;
                    };
                    textarea.addEventListener('input', updateWordCount);
                    updateWordCount(); // Initial count
                }
            });

            // --- Q12 Highlight ---
            const punctuationTask = document.getElementById('punctuation-task');
            const hiddenInputQ12 = document.getElementById('q12_hidden_answer');
            let selectedWords = new Set();
            
            function loadHighlights(value) {
                if (!punctuationTask) return; // Add check
                selectedWords = new Set(value ? value.split(', ') : []);
                punctuationTask.querySelectorAll('.clickable-word').forEach(wordEl => {
                    if (selectedWords.has(wordEl.dataset.word)) {
                        wordEl.classList.add('selected');
                    } else {
                        wordEl.classList.remove('selected');
                    }
                });
                if(hiddenInputQ12) hiddenInputQ12.value = value;
            }

            if (punctuationTask && hiddenInputQ12) {
                punctuationTask.addEventListener('click', (e) => {
                    const target = e.target;
                    if (target.classList.contains('clickable-word')) {
                        const word = target.getAttribute('data-word');
                        target.classList.toggle('selected');
                        if (target.classList.contains('selected')) {
                            selectedWords.add(word);
                        } else {
                            selectedWords.delete(word);
                        }
                        hiddenInputQ12.value = Array.from(selectedWords).join(', ');
                    }
                });
            }

            // --- Q15 Drag and Drop ---
            const dragContainer = document.getElementById('drag-container');
            const orderInputQ15 = document.getElementById('q15_hidden_answer');
            let draggingItem = null;
            
            function loadDragAndDrop(value) {
                if (!value || !dragContainer) return;
                const ids = value.split(', ');
                const newChildren = [];
                ids.forEach(id => {
                    const el = dragContainer.querySelector(`[data-id="${id}"]`);
                    if(el) newChildren.push(el);
                });
                // Append remaining elements
                dragContainer.querySelectorAll('.drag-item').forEach(el => {
                    if(!newChildren.includes(el)) newChildren.push(el);
                });
                newChildren.forEach(child => dragContainer.appendChild(child));
                if(orderInputQ15) orderInputQ15.value = value;
            }

            if (dragContainer && orderInputQ15) {
                function updateOrderInput() {
                    const items = [...dragContainer.querySelectorAll('.drag-item')];
                    orderInputQ15.value = items.map(item => item.getAttribute('data-id')).join(', ');
                }
                
                dragContainer.addEventListener('dragstart', (e) => {
                    if (e.target.classList.contains('drag-item')) {
                        draggingItem = e.target;
                        setTimeout(() => { if (draggingItem) draggingItem.classList.add('dragging'); }, 0);
                    }
                });

                dragContainer.addEventListener('dragend', () => {
                    if (draggingItem) {
                        draggingItem.classList.remove('dragging');
                        draggingItem = null;
                        updateOrderInput(); 
                    }
                });

                dragContainer.addEventListener('dragover', (e) => {
                    e.preventDefault(); 
                    const afterElement = getDragAfterElement(dragContainer, e.clientY);
                    [...dragContainer.querySelectorAll('.drag-over')].forEach(el => el.classList.remove('drag-over'));
                    if (draggingItem) {
                        if (afterElement == null) {
                            dragContainer.appendChild(draggingItem);
                        } else {
                            dragContainer.insertBefore(draggingItem, afterElement);
                            afterElement.classList.add('drag-over');
                        }
                    }
                });
                
                dragContainer.addEventListener('drop', () => {
                     [...dragContainer.querySelectorAll('.drag-over')].forEach(el => el.classList.remove('drag-over'));
                });

                function getDragAfterElement(container, y) {
                    const draggableElements = [...container.querySelectorAll('.drag-item:not(.dragging)')];
                    return draggableElements.reduce((closest, child) => {
                        const box = child.getBoundingClientRect();
                        const offset = y - box.top - box.height / 2;
                        if (offset < 0 && offset > closest.offset) {
                            return { offset: offset, element: child };
                        } else {
                            return closest;
                        }
                    }, { offset: Number.NEGATIVE_INFINITY }).element;
                }
                
                updateOrderInput(); // Initial call
            }

            // --- Initial Load ---
            showSlide(0); // Show the first slide
            loadProgress(); // Load saved data
        });
    </script>

</body>
</html>







